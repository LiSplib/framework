<?php

namespace App\Controller;

use App\Model\ModelMyEvents;
use App\Model\ModelAdmin;
use DateTime;
use App\Model\ModelMyCard;

class FullAccount{

    public function __construct()
    {
       $session = new Session;
       $session->sessionStart();
    }

    public function httpGetRequest(){
        if($_SESSION['auth']){
            if(isset($_GET['id'])){
                $id = $_GET['id'];
            }else{
                $id = $_SESSION['auth']['id'];
            }
            $dataAdmin = new ModelAdmin();
            $myEvents = new ModelMyEvents;
            $today = new DateTime();
            $today = $today->format('Y-m-d');
            if ($_SESSION['auth']['role'] === 'admin' || $_SESSION['auth']['role'] === 'superAdmin'){
                $events = $myEvents->myCreatedEvents($id);
            }else{
                $events = $myEvents->myAllEvents($id);
            };
            $admin = $dataAdmin->getAllInfo($id);
            $adminRS = array_slice($admin, 17, 12);
            $rsFilter = array_filter($adminRS);
            $rsSVG = ['facebook' => '<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 15.16 30"><defs><style>.cls-10{fill:#fff;fill-rule:evenodd;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path class="cls-10" d="M14.64,10.39H10.19v-3c.32-2.8,5-2.27,5-2.27V.35h0c-.16,0-9.21-2.19-11,4.7h0v0a35.7,35.7,0,0,0-.26,5.29H0v5.27H4.1V30h6V15.66h4.57l.52-5.27Z"/></g></g></svg>',
                      'linkedin' => '<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 29.99 30"><defs><style>.cls-10{fill:#fff;fill-rule:evenodd;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path class="cls-10" d="M6.79,30H.6V10H6.79V30ZM3.66,7.38h0A3.69,3.69,0,1,1,7.32,3.69,3.67,3.67,0,0,1,3.66,7.38ZM30,30H23.82V19.5c0-2.88-1.09-4.49-3.37-4.49-2.47,0-3.77,1.68-3.77,4.49V30H10.74V10h5.94v2.69a7,7,0,0,1,6-3.3C27,9.39,30,12,30,17.34Z"/></g></g></svg>',
                      'vimeo' => '<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 34.67 30"><defs><style>.cls-10{fill:#fff;fill-rule:evenodd;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path class="cls-10" d="M34.65,6.94Q34.42,12,27.58,20.81,20.52,30,15.62,30q-3,0-5.13-5.6Q9.1,19.27,7.69,14.14q-1.56-5.6-3.34-5.6a10.66,10.66,0,0,0-2.72,1.63L0,8.07c1.71-1.5,3.4-3,5.06-4.51,2.28-2,4-3,5.14-3.12C12.89.18,14.56,2,15.18,6q1,6.39,1.4,8c.78,3.53,1.63,5.3,2.57,5.3q1.08,0,3.27-3.44c1.45-2.3,2.23-4,2.33-5.24.21-2-.57-3-2.33-3a6.47,6.47,0,0,0-2.57.57Q22.42-.23,29.62,0,35,.16,34.65,6.94Z"/></g></g></svg>',
                      'skype' => '<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 30.14 30"><defs><style>.cls-10{fill:#fff;fill-rule:evenodd;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path class="cls-10" d="M28.9,17.46A14,14,0,0,0,15.06,1a13.79,13.79,0,0,0-2.59.24A8.21,8.21,0,0,0,0,8.21a8.17,8.17,0,0,0,1.22,4.3A14.71,14.71,0,0,0,1,15,14.05,14.05,0,0,0,15.06,29.07a14.21,14.21,0,0,0,2.63-.25A8.21,8.21,0,0,0,28.9,17.46ZM15.55,24.85h0c-4,0-8-1.82-8-4.94A1.75,1.75,0,0,1,9.19,18.1c2.36,0,2.34,3.5,6.09,3.5,2.64,0,3.53-1.43,3.53-2.43,0-3.62-11.38-1.4-11.38-8.21,0-3.68,3-6.22,7.78-5.94,4.53.27,7.19,2.26,7.45,4.12a1.92,1.92,0,0,1-2.09,2.17c-2.05,0-2.26-2.74-5.79-2.74-1.6,0-2.94.66-2.94,2.1,0,3,11.32,1.26,11.32,7.87C23.16,22.35,20.11,24.85,15.55,24.85Z"/></g></g></svg>',
                      'google' => '<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 29.39 30"><defs><style>.cls-10{fill:#fff;fill-rule:evenodd;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path class="cls-10" d="M0,15C-.28,7.29,6.49.14,14.23.05A15,15,0,0,1,25,3.74c-1.22,1.35-2.47,2.68-3.8,3.93-2.63-1.6-5.8-2.82-8.87-1.74a9.48,9.48,0,1,0,6.38,17.83,8.31,8.31,0,0,0,4.87-5.68c-2.86-.06-5.73,0-8.59-.1,0-1.71,0-3.41,0-5.11,4.78,0,9.56,0,14.35,0,.29,4.18-.33,8.65-3,12-3.72,4.78-10.58,6.18-16.17,4.31A15,15,0,0,1,0,15Z"/></g></g></svg>',
                      'youtube' => '<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 41.52 30"><defs><style>.cls-10{fill:#fff;fill-rule:evenodd;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path class="cls-10" d="M41.14,5.66c-.36-3-1.08-3.91-1.59-4.31-.83-.65-2.32-.87-4.31-1C32,.13,26.63,0,20.76,0S9.48.13,6.28.35C4.29.48,2.8.7,2,1.35,1.47,1.75.74,2.63.38,5.66a114.22,114.22,0,0,0,0,18.68c.36,3,1.09,3.91,1.6,4.31.82.65,2.31.87,4.3,1,3.2.22,8.61.35,14.48.35s11.28-.13,14.48-.35c2-.13,3.48-.35,4.31-1,.51-.4,1.23-1.28,1.59-4.31a114.22,114.22,0,0,0,0-18.68ZM15.75,21.53h0V8.47L28.28,15Z"/></g></g></svg>',
                      'instagram' => '<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 30 30"><defs><style>.cls-10{fill:#fff;fill-rule:evenodd;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path class="cls-10" d="M14.63,0c-3.74,0-4.26,0-5.81.09a11,11,0,0,0-3.65.7A7.23,7.23,0,0,0,2.52,2.52,7.23,7.23,0,0,0,.79,5.17a11,11,0,0,0-.7,3.65C0,10.42,0,10.93,0,15s0,4.58.09,6.18a11,11,0,0,0,.7,3.65,7.23,7.23,0,0,0,1.73,2.65,7.23,7.23,0,0,0,2.65,1.73,11,11,0,0,0,3.65.7c1.6.07,2.11.09,6.18.09s4.58,0,6.18-.09a11,11,0,0,0,3.65-.7,7.7,7.7,0,0,0,4.38-4.38,11,11,0,0,0,.7-3.65c.07-1.55.09-2.07.09-5.81v-.74c0-3.74,0-4.26-.09-5.81a11,11,0,0,0-.7-3.65,7.23,7.23,0,0,0-1.73-2.65A7.23,7.23,0,0,0,24.83.79a11,11,0,0,0-3.65-.7C19.63,0,19.11,0,15.37,0ZM24.81,7A1.8,1.8,0,1,1,23,5.19,1.8,1.8,0,0,1,24.81,7ZM15,20a5,5,0,1,1,5-5,5,5,0,0,1-5,5ZM15,7.3A7.7,7.7,0,1,1,7.3,15,7.7,7.7,0,0,1,15,7.3Zm0-4.6c4,0,4.48,0,6.06.09a8.3,8.3,0,0,1,2.79.52,4.5,4.5,0,0,1,1.72,1.12,4.5,4.5,0,0,1,1.12,1.72,8.3,8.3,0,0,1,.52,2.79c.07,1.58.09,2.06.09,6.06s0,4.48-.09,6.06a8.3,8.3,0,0,1-.52,2.79,5,5,0,0,1-2.84,2.84,8.3,8.3,0,0,1-2.79.52c-1.58.07-2,.09-6.06.09s-4.48,0-6.06-.09a8.3,8.3,0,0,1-2.79-.52,4.5,4.5,0,0,1-1.72-1.12,4.5,4.5,0,0,1-1.12-1.72,8.3,8.3,0,0,1-.52-2.79C2.72,19.48,2.7,19,2.7,15s0-4.48.09-6.06a8.3,8.3,0,0,1,.52-2.79A4.5,4.5,0,0,1,4.43,4.43,4.5,4.5,0,0,1,6.15,3.31a8.3,8.3,0,0,1,2.79-.52C10.52,2.72,11,2.7,15,2.7Z"/></g></g></svg>',
                      'pinterest' => '<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 23.22 30"><defs><style>.cls-10{fill:#fff;fill-rule:evenodd;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path class="cls-10" d="M13.93,21.68a4.93,4.93,0,0,1-4.21-2.15s-1,4-1.21,4.74a18.37,18.37,0,0,1-3.12,5.64.22.22,0,0,1-.4-.1,19.21,19.21,0,0,1,0-6.55l2.21-9.39a6.61,6.61,0,0,1-.55-2.72C6.7,8.59,8.18,6.69,10,6.69a2.3,2.3,0,0,1,2.32,2.58c0,1.58-1,3.93-1.52,6.12a2.67,2.67,0,0,0,2.72,3.32c3.26,0,5.46-4.2,5.46-9.17,0-3.77-2.54-6.6-7.17-6.6a8.16,8.16,0,0,0-8.48,8.25A5,5,0,0,0,4.5,14.57a.84.84,0,0,1,.24,1l-.35,1.39a.59.59,0,0,1-.86.43C1.12,16.37,0,13.73,0,10.76,0,5.87,4.13,0,12.32,0c6.58,0,10.9,4.76,10.9,9.87C23.22,16.63,19.47,21.68,13.93,21.68Z"/></g></g></svg>',
                      'snapchat' => '<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 31.91 30"><defs><style>.cls-10{fill:#fff;fill-rule:evenodd;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path class="cls-10" d="M5.31,26.36l.15.12s0,0,0,0l.33,0c-.21.17-.11.11-.44.11l-.09-.24Zm25.41-2.77.06,0,.32-.32L30.78,23l.22.05.17.08c-.13.38,0,.26-.45.42ZM7.27,11.45a1.62,1.62,0,0,1,.12.82l-.18.09c-1.52,0-2.16-.95-3.42-.14a1.16,1.16,0,0,0-.47,1.43c.56,1.42,3.49,1.27,3.77,2.44s-2.37,5.37-6,6.22c-.63.15-1.21.25-1,1.08a1.83,1.83,0,0,0,1,1c.49.24,3.08.86,3.15.92.79.67-.4,2.34,2.14,1.88,5.27-1,4.76,2.8,9.61,2.8,3.08,0,3.92-1.53,5.89-2.55a6,6,0,0,1,3.71-.26c2.1.36,1.5-.43,2-1.86l.41-.15c1-.22,3.67-.59,3.88-1.87.27-1.71-2.88-.07-5.86-4.48-2.58-3.82-.64-3.11,1.61-4.28,1.38-.71,1.31-1.87.38-2.4-1.56-.86-2.11.53-3.42.14-.07-.45.2-3.36.08-4.93A8.15,8.15,0,0,0,16.41,0C12.71-.06,10.68,1.12,9,3S7.18,6.53,7.19,9C7.2,9.72,7.33,10.79,7.27,11.45Z"/></g></g></svg>',
                      'twitter' => '<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 36.91 30"><defs><style>.cls-10{fill:#fff;fill-rule:evenodd;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path class="cls-10" d="M33.13,7.47C33.61,18.12,25.67,30,11.61,30A21.41,21.41,0,0,1,0,26.6a15.21,15.21,0,0,0,11.21-3.14A7.57,7.57,0,0,1,4.14,18.2a7.55,7.55,0,0,0,3.42-.13,7.59,7.59,0,0,1-6.08-7.52,7.52,7.52,0,0,0,3.43.95A7.59,7.59,0,0,1,2.57,1.39,21.54,21.54,0,0,0,18.18,9.3a7.58,7.58,0,0,1,12.9-6.91A15.06,15.06,0,0,0,35.89.55a7.52,7.52,0,0,1-3.33,4.19,15.15,15.15,0,0,0,4.35-1.19A15.31,15.31,0,0,1,33.13,7.47Z"/></g></g></svg>',
                      'soundcloud' => '<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 69.08 30"><defs><style>.cls-10{fill:#fff;fill-rule:evenodd;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path class="cls-10" d="M.78,17.94a.29.29,0,0,0-.28.27L0,22.05l.5,3.77a.29.29,0,0,0,.28.27.29.29,0,0,0,.28-.27l.6-3.77-.6-3.84a.29.29,0,0,0-.28-.27ZM34.38,2a.87.87,0,0,0-.78.93l-.33,19.15L33.6,29a.87.87,0,0,0,.78.93.89.89,0,0,0,.78-.94h0l.34-6.94L35.16,2.92A.88.88,0,0,0,34.38,2Zm26.2,11a8.62,8.62,0,0,0-3.29.66A15,15,0,0,0,42.36,0a15.15,15.15,0,0,0-5.43,1c-.64.24-.81.5-.82,1V29A1,1,0,0,0,37,30H60.58a8.5,8.5,0,0,0,0-17ZM22.8,5.66a.68.68,0,0,0-.67.69l-.42,15.71.42,7.21a.67.67,0,1,0,1.34,0h0l.47-7.2L23.47,6.35a.69.69,0,0,0-.67-.69Zm-5.67,1.8a.58.58,0,0,0-.58.57l-.51,14,.51,7.33a.58.58,0,0,0,.58.57.59.59,0,0,0,.58-.58l.56-7.32L17.71,8a.59.59,0,0,0-.58-.57Zm11.43-1a.78.78,0,0,0-.75.81l-.34,14.75.34,7.1a.78.78,0,0,0,.75.81.79.79,0,0,0,.76-.82h0l.38-7.1L29.32,7.31a.79.79,0,0,0-.76-.81ZM6.05,14.35a.36.36,0,0,0-.35.34l-.64,7.36.64,7.09a.36.36,0,0,0,.35.34.35.35,0,0,0,.34-.34l.74-7.09-.74-7.36a.35.35,0,0,0-.34-.34Zm5.49.23a.48.48,0,0,0-.48.46l-.59,7,.59,7.38a.48.48,0,0,0,1,0l.68-7.38L12,15a.47.47,0,0,0-.48-.45ZM25.67,6a.74.74,0,0,0-.72.75l-.37,15.31L25,29.2a.74.74,0,0,0,.72.75.74.74,0,0,0,.71-.75h0l.43-7.14L26.38,6.75A.74.74,0,0,0,25.67,6Zm5.8-2.36a.84.84,0,0,0-.79.87l-.3,17.55s.3,7.05.3,7.05a.8.8,0,1,0,1.59,0l.34-7L32.27,4.51a.85.85,0,0,0-.8-.87ZM20,6.23a.63.63,0,0,0-.62.63l-.46,15.2.46,7.25A.63.63,0,0,0,20,30a.65.65,0,0,0,.63-.64l.52-7.25-.52-15.2A.65.65,0,0,0,20,6.23ZM8.79,14.09a.42.42,0,0,0-.41.4l-.61,7.56.61,7.32a.41.41,0,0,0,.81,0l.69-7.32-.69-7.56a.41.41,0,0,0-.4-.4Zm5.53-4a.55.55,0,0,0-.53.52l-.55,11.42.55,7.37a.55.55,0,0,0,.53.52.54.54,0,0,0,.53-.52h0l.62-7.37-.62-11.42a.54.54,0,0,0-.53-.52Zm-11,5.45a.29.29,0,0,0-.29.28l-.68,6.2.68,6.07a.29.29,0,0,0,.57,0l.77-6.07-.77-6.2A.29.29,0,0,0,3.34,15.57Z"/></g></g></svg>',
                      'spotify' =>  '<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 45.28 30"><defs><style>.cls-10{fill:#fff;fill-rule:evenodd;}</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path class="cls-10" d="M36.56,29.05a2,2,0,0,1-2.73.66C26.37,25.14,17,24.11,5.9,26.64A2,2,0,1,1,5,22.78C17.13,20,27.52,21.2,35.9,26.32a2,2,0,0,1,.66,2.73Zm3.89-8.66A2.48,2.48,0,0,0,39.64,17c-9.82-6-24.18-7.73-35.73-4.23A2.48,2.48,0,1,0,5.35,17.5C15.46,14.43,28.49,16,37,21.21a2.48,2.48,0,0,0,3.41-.82Zm.34-9h0C30.54,5.28,13.63,4.72,3.84,7.69A3,3,0,0,1,2.11,2C13.35-1.41,32-.75,43.82,6.25a3,3,0,0,1-3,5.12Z"/></g></g></svg>'
                    ];
            $card = new ModelMyCard;
            $title = ['Groupe de travail', 'Coaching Pratiqué', 'Adhérent à', 'Catégorie', 'Je suis aussi', 'Réference client', 'Domaines d\'intervention', 'Formations & certifications', 'Parcours', 'Publications', 'Centres d\'intérêts | Autres'];
            $text = ['working', 'coachingDo', 'adherent', 'categorie', 'also', 'customer', 'intervention', 'training', 'course', 'publication', 'interest'];
            $max = count($title);
            $content = file_get_contents('http://loripsum.net/api');

            return ['admin' => $admin,
                    'id' => $id,
                    'events' => $events,
                    'today' => $today,
                    'card' => $card,
                    'title' => $title,
                    'text' => $text,
                    'max' => $max,
                    'rsFilter' => $rsFilter,
                    'rsSVG' => $rsSVG,
                    'content' => $content
                    ];
        }else{
            $_SESSION['flash']['danger'] = 'Vous n\'avez pas le droit !!!';
            redirect_to_route('home');
        }

    }

    public function httpPostRequest(){}

}